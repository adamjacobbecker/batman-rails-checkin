!!!
%html
  %head
    %meta{:charset => "utf-8"}
      %title CRUD Demo
      = stylesheet_link_tag 'application'
      = javascript_include_tag "application"
      = csrf_meta_tags
  %body
    .navbar.navbar-fixed-top.navbar-inverse
      .navbar-inner
        .container
          %a.brand{:href => '/'}
            CRUD
          %ul.nav
            %li{:data => {"foreach-nav" => "window.BatmanRailsCheckin.navLinks", |
                "addclass-active" => "window.BatmanRailsCheckin.currentRoute.controller | matches nav.controller"}}
              %a{:data => {"bind" => "nav.text", "route" => "nav.route"}}

          %ul.nav.pull-right{data: {showif: "window.BatmanRailsCheckin.currentUser"}}
            %li
              %a{:data => {bind: "window.BatmanRailsCheckin.currentUser.email | prepend 'logout '", |
                          "route" => "routes.logout"}}
    #main.container
      .content
        %p#flashnotice.alert.alert-success{:data => {"showif" => "window.BatmanRailsCheckin.flash.success.length"}}
          %a.close{:href => "#", :onclick => "$('#flashnotice').hide(); return false"} ×
          %span{:data => {"bind" => "window.BatmanRailsCheckin.flash.success"}}
        %p#flashwarning.alert.alert-error{:data => {"showif" => "window.BatmanRailsCheckin.flash.error.length"}}
          %a.close{:href => "#", :onclick => "$('#flashwarning').hide(); return false"} ×
          %span{:data => {"bind" => "window.BatmanRailsCheckin.flash.error"}}
        %div{:data => {"yield" => "main"}}
        %footer
          %p
            &copy; adamjacobbecker #{Time.now.year}